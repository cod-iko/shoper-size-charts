!function(){if(!window.__SC__){window.__SC__=!0;var t="https://script.google.com/macros/s/AKfycbzQ-TYAu3HxSEktr2d7b1dy1c11BhvC3Qfkp12R-wYgXofnap2hLS6yiypsj6yNhPan/exec",e=36e5;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r();var n=0,o=setInterval(function(){n++,"function"==typeof useStorefront&&(useStorefront(async function(t){t.eventBus.on("PageManager.rendered",function(){setTimeout(r,300)})}),1)?clearInterval(o):n>=50&&clearInterval(o)},100)}function r(){var n,o=(n=document.querySelector("product-price[product-id]"))?n.getAttribute("product-id"):null,r=document.getElementById("sc-btn");if(r){if(!o){r.style.display="none";return}!function n(o,r){var s=localStorage.getItem("sc-check-"+o);if(s)try{var i=JSON.parse(s);if(Date.now()-i.ts<e){r.style.display=i.hasTable?"block":"none",i.hasTable&&(r.onclick=function(){c(o)},document.getElementById("sc-modal")||a());return}}catch(d){}fetch(t+"?id="+o).then(function(t){return t.json()}).then(function(t){var e=!t.error;localStorage.setItem("sc-check-"+o,JSON.stringify({ts:Date.now(),hasTable:e})),e?(localStorage.setItem("sc-"+o,JSON.stringify({ts:Date.now(),data:t})),r.style.display="block",r.onclick=function(){c(o)},document.getElementById("sc-modal")||a()):r.style.display="none"}).catch(function(){r.style.display="none"})}(o,r)}}function a(){var t=document.createElement("div");t.id="sc-modal",t.innerHTML='<div class="sc-bg"></div><div class="sc-box"><div class="sc-head"><span>Tabela rozmiar\xf3w</span><button class="sc-close">✕</button></div><div class="sc-body" id="sc-content">Ładowanie...</div></div>',document.body.appendChild(t),t.querySelector(".sc-bg").onclick=s,t.querySelector(".sc-close").onclick=s}function c(n){var o=document.getElementById("sc-modal");o||(a(),o=document.getElementById("sc-modal")),o.classList.add("open"),document.body.style.overflow="hidden",function n(o){var r=document.getElementById("sc-content");if(r){r.innerHTML="Ładowanie...";var a=localStorage.getItem("sc-"+o);if(a)try{var c=JSON.parse(a);if(Date.now()-c.ts<e){r.innerHTML=i(c.data);return}}catch(s){}fetch(t+"?id="+o).then(function(t){return t.json()}).then(function(t){t.error?r.innerHTML="<p>Brak tabeli rozmiar\xf3w dla tego produktu.</p>":(localStorage.setItem("sc-"+o,JSON.stringify({ts:Date.now(),data:t})),r.innerHTML=i(t))}).catch(function(t){console.error("\uD83D\uDCCF Błąd:",t),r.innerHTML="<p>Błąd ładowania.</p>"})}}(n)}function s(){var t=document.getElementById("sc-modal");t&&t.classList.remove("open"),document.body.style.overflow=""}function i(t){for(var e="<table><thead><tr>",n=0;n<t.headers.length;n++)e+="<th>"+t.headers[n]+"</th>";e+="</tr></thead><tbody>";for(var o=0;o<t.rows.length;o++){e+="<tr>";for(var r=0;r<t.rows[o].length;r++)e+=(0===r?"<th>":"<td>")+t.rows[o][r]+(0===r?"</th>":"</td>");e+="</tr>"}return e+"</tbody></table>"}}();